{"version":3,"sources":["webpack:///src/app/kids-games/kids-games-routing.module.ts","webpack:///src/app/kids-games/kids-games.page.scss","webpack:///src/app/kids-games/kids-games.module.ts","webpack:///src/app/kids-games/kids-games.page.html","webpack:///src/app/kids-games/kids-games.page.ts"],"names":["routes","path","component","KidsGamesPageRoutingModule","imports","forChild","exports","KidsGamesPageModule","declarations","KidsGamesPage","speechRecognition","media","file","platform","bgcolor","recording","audioList","hasPermission","then","requestPermission","console","log","startListening","subscribe","matches","onerror","localStorage","getItem","JSON","parse","is","fileName","Date","getDate","getMonth","getFullYear","getHours","getMinutes","getSeconds","filePath","documentsDirectory","replace","audio","create","externalDataDirectory","startRecord","stopRecord","data","filename","push","setItem","stringify","getAudioList","idx","play","setVolume","selector","template"],"mappings":"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","file":"kids-games-kids-games-module-es5.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { KidsGamesPage } from './kids-games.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: KidsGamesPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class KidsGamesPageRoutingModule {}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJraWRzLWdhbWVzLnBhZ2Uuc2NzcyJ9 */\";","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { KidsGamesPageRoutingModule } from './kids-games-routing.module';\n\nimport { KidsGamesPage } from './kids-games.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    KidsGamesPageRoutingModule\n  ],\n  declarations: [KidsGamesPage]\n})\nexport class KidsGamesPageModule {}\n","export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-title>kids-games</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content padding [style.background-color]=\\\"bgcolor\\\">\\n  <button ion-button (click)=\\\"start()\\\">Say a color</button>\\n\\n  <ion-card>\\n    <ion-card-content>\\n      <ion-card-title>\\n        <button ion-button primary (click)=\\\"stopRecord()\\\" *ngIf=\\\"recording\\\"><ion-icon name=\\\"mic-off\\\"></ion-icon>&nbsp;&nbsp;Stop Record</button>\\n        <button ion-button primary (click)=\\\"startRecord()\\\" *ngIf=\\\"!recording\\\"><ion-icon name=\\\"mic\\\"></ion-icon>&nbsp;&nbsp;Start Record</button>\\n      </ion-card-title>\\n    </ion-card-content>\\n  </ion-card>\\n  <ion-list>\\n    <ion-item *ngFor=\\\"let audio of audioList; index as i;\\\">\\n      <p>{{audio.filename}}</p>\\n      <button ion-button clear item-end large (click)=\\\"playAudio(audio.filename, i)\\\"><ion-icon name=\\\"play\\\"></ion-icon></button>\\n    </ion-item>\\n  </ion-list>\\n</ion-content>\\n\\n\";","import { Component, OnInit } from '@angular/core';\nimport { SpeechRecognition } from '@ionic-native/speech-recognition/ngx';\nimport {Platform} from \"@ionic/angular\";\nimport {Media, MediaObject} from '@ionic-native/media/ngx';\nimport { File } from '@ionic-native/file/ngx';\n\n@Component({\n  selector: 'app-kids-games',\n  templateUrl: './kids-games.page.html',\n  styleUrls: ['./kids-games.page.scss'],\n})\nexport class KidsGamesPage implements OnInit {\n\n  bgcolor: string = 'white';\n\n    recording: boolean = false;\n    filePath: string;\n    fileName: string;\n    audio: MediaObject;\n    audioList: any[] = [];\n\n  constructor(private speechRecognition: SpeechRecognition,\n              private media: Media,\n              private file: File,\n              public platform: Platform) { }\n\n  ngOnInit() {\n    this.speechRecognition.hasPermission()\n        .then((hasPermission: boolean) => {\n\n          if (!hasPermission) {\n            this.speechRecognition.requestPermission()\n                .then(\n                    () => console.log('Granted'),\n                    () => console.log('Denied')\n                )\n          }\n\n        });\n  }\n\n  start() {\n\n    this.speechRecognition.startListening()\n        .subscribe(\n            (matches: Array<string>) => {\n              this.bgcolor = matches[0];\n            },\n            (onerror) => console.log('error:', onerror)\n        )\n\n  }\n\n    getAudioList() {\n        if(localStorage.getItem(\"audiolist\")) {\n            this.audioList = JSON.parse(localStorage.getItem(\"audiolist\"));\n            console.log(this.audioList);\n        }\n    }\n\n    startRecord() {\n        if (this.platform.is('ios')) {\n            this.fileName = 'record'+new Date().getDate()+new Date().getMonth()+new Date().getFullYear()+new Date().getHours()+new Date().getMinutes()+new Date().getSeconds()+'.3gp';\n            this.filePath = this.file.documentsDirectory.replace(/file:\\/\\//g, '') + this.fileName;\n            this.audio = this.media.create(this.filePath);\n        } else if (this.platform.is('android')) {\n            this.fileName = 'record'+new Date().getDate()+new Date().getMonth()+new Date().getFullYear()+new Date().getHours()+new Date().getMinutes()+new Date().getSeconds()+'.3gp';\n            this.filePath = this.file.externalDataDirectory.replace(/file:\\/\\//g, '') + this.fileName;\n            this.audio = this.media.create(this.filePath);\n        }\n        this.audio.startRecord();\n        this.recording = true;\n    }\n\n    stopRecord() {\n        this.audio.stopRecord();\n        let data = { filename: this.fileName };\n        this.audioList.push(data);\n        localStorage.setItem(\"audiolist\", JSON.stringify(this.audioList));\n        this.recording = false;\n        this.getAudioList();\n    }\n\n    playAudio(file,idx) {\n        if (this.platform.is('ios')) {\n            this.filePath = this.file.documentsDirectory.replace(/file:\\/\\//g, '') + file;\n            this.audio = this.media.create(this.filePath);\n        } else if (this.platform.is('android')) {\n            this.filePath = this.file.externalDataDirectory.replace(/file:\\/\\//g, '') + file;\n            this.audio = this.media.create(this.filePath);\n        }\n        this.audio.play();\n        this.audio.setVolume(0.8);\n    }\n\n}\n"]}